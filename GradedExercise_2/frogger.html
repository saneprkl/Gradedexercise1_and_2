<!DOCTYPE html>
<html>
    <head>
        <style>
            body { margin: 0;  };
            @font-face { font-family: ArcadeClassic; src: url('ArcadeClassicV2.otf') format('otf')
                                                        url('ArcadeClassicV2.ttf') format('truetype')
                                                        url('ArcadeClassicV2.woff') format('woff')
                                                        url('ArcadeClassicV2.eot') format('eot')
                                                        ; }             
        </style>
    </head>
    <body>
        <div style="text-align: center;"><canvas id="target" style="background-color: black;"></canvas></div>
        <script>
            const canvas = document.getElementById("target");
            const context = canvas.getContext("2d");
            canvas.width = 672;
            canvas.height = 744;
            lastTimeStamp = 0;

            class GameObject {
                constructor(startX, startY, width, height, speedX, speedY) {
                    this.x = startX;
                    this.y = startY;
                    this.width = width;
                    this.height = height;
                    this.speedX = speedX;
                    this.speedY = speedY;  
                    this.collision = false;
                    this.hitching = false;
                    this.isCar = false;
                    this.reset = false; 
                }

                update(deltaTime) {
                    this.y = this.y + this.speedY * deltaTime / 1000;
                    this.x = this.x + this.speedX * deltaTime / 1000; 
                      if(this.reset == true) {
                          this.x = this.x
                          this.y = this.y
                          this.reset = false;
                      }
                    if(this != frog) {
                        if(((this.x + this.width) > frog.x)
                            && (this.x < (frog.x + frog.width))
                            && ((this.y + this.height) > frog.y)
                            && (this.y < (frog.y + frog.height))) {
                                console.log('collision', this.collision);
                                this.collision = true;
                            }
                            else {
                            this.collision = false;
                        }
                    }
                    if(this.isCar == true && this.collision == true) {
                        RemoveLife();
                        console.log(frog.lifeCount);
                    }
                }
            }
            
            class Scenery {
                constructor(startX, startY, width, height, speedX, speedY) {
                    this.x = startX;
                    this.y = startY;
                    this.width = width;
                    this.height = height;
                    this.speedX = speedX;
                    this.speedY = speedY;
                }
                update(){
                }    
                draw() {
                    console.log('draw not implemented.');
                }
            }
            class Lord_of_time extends Scenery {
                draw() {
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height, this.speedX, this.speedY);
                    context.fillStyle = 'black';
                    context.fill();
                }
                update() {
                    if(this.x > 96) { 
                        RemoveLife();
                    }
                    if(this.x < 98) {
                        this.x = this.x + this.speedX * deltaTime / 1000;     
                    }
                }
            }
            class Life extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 663, 48, 25, 25,
                    this.x, this.y, this.width, this.height); 
                }
   
            }
            class TimeBlock extends Scenery {
                draw() {
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height)
                    context.fillStyle = '#7120a3';
                    context.fill();       
                }
            }
            class Time extends Scenery {
                draw() {
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height)
                    context.fillStyle = 'White';
                    context.fill();
                }
            }
            /*#1313ef*/
            class Water extends GameObject {
                draw() {
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height);
                    context.fillStyle = "#1313ef";
                    context.fill();        
                }
            }
            class DieWaterLeft extends GameObject {
                draw(){
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height);
                    context.fillStyle = "#1313ef";
                    context.fill();
                    if(this.x < -70 ) {
                        this.x = 768 + 76;
                    }  
                    if(this.collision == true && frog.speedX == 0) {
                        RemoveLife();
                    }
                }
            }
            class DieWaterLeft_2 extends GameObject {
                draw(){
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height);
                    context.fillStyle = "#1313ef";
                    context.fill();
                    if(this.x < -137 ) {
                        this.x = 768 + 41;
                    }   
                    if(this.collision == true && frog.speedX == 0) {
                        RemoveLife();
                    }
                }
            }
            class DieWaterRight extends GameObject {
                draw(){
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height);
                    context.fillStyle = "#1313ef";
                    context.fill();
                    if(this.x > canvas.width + 60 ) {
                        this.x = -344;
                    }
                    if(this.collision == true && frog.speedX == 0) {
                        RemoveLife();
                    }
                }
            }
            class DieWaterRight_2 extends GameObject {
                draw(){
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height);
                    context.fillStyle = "#1313ef";
                    context.fill();
                    if(this.x > canvas.width + 60 ) {
                        this.x = -460;
                    }     
                    if(this.collision == true && frog.speedX == 0) {
                        RemoveLife();
                    }
                }
            }
            class DieWaterRight_3 extends GameObject {
                draw(){
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height);
                    context.fillStyle = "#1313ef";
                    context.fill();
                    if(this.x > canvas.width + this.width) {
                        this.x = -270;
                    }    
                    if(this.collision == true && frog.speedX == 0) {
                        RemoveLife();
                    }
                }
            }
            class DieWaterStart extends GameObject {
                draw(){
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height);
                    context.fillStyle = "#1313ef";
                    context.fill(); 
                    if(this.collision == true && frog.speedX == 0) {
                        RemoveLife();
                    }
                }
            }
            
            class Frog extends GameObject {
                constructor(startX, startY, width, height, speedX, speedY){
                    super(startX, startY, width, height, speedX, speedY);
                    this.frameCounter = 0;
                    this.animationFrames = 3;
                    this.frameTimeCounter = 0;
                    this.frameRate = 5;
                    this.movementDirection = "Up";
                    this.lifeCount = 3;
                    this.reset = false;
                    this.jumpCounter = 0; 
                }
                moveUp() {
                    if(this.y > 100) {            
                    this.y = this.y - 48;              
                    this.movementDirection = "Up"; 
                    this.jumpCounter++;
                    if(this.jumpCounter > 0){
                        roundScore = roundScore + 20;
                        score();
                    }            
                    }
                }
                moveDown() {
                    if(this.y < canvas.height - 100) {
                    this.y = this.y + 48;
                    this.movementDirection = "Down";
                    this.jumpCounter = this.jumpCounter - 2;
                }
                }
                moveLeft() {
                    if(this.x > 15) {
                    this.x = this.x - 47;
                    this.movementDirection = "Left";            
                    }
                }
                moveRight() {
                    if(this.x < 600) {
                    this.x = this.x + 47;
                    this.movementDirection = "Right";     
                    }
                }
                update(deltaTime) {
                    this.frameTimeCounter += deltaTime;
                    if(this.frameTimeCounter > 1000 / this.frameRate) {
                        this.frameTimeCounter = 0;
                        this.frameCounter++;
                        if(this.frameCounter >= this.animationFrames) {
                            this.frameCounter = 0;
                        }             
                    }           
                }
                
                draw() {
                    let animationStartX = 0;
                    
                    switch(this.movementDirection) {
                        case "Up":
                        animationStartX = 4;

                        break;

                        case "Down":
                        animationStartX = 286;
                        break;

                        case "Left":
                        animationStartX = 411;
                        break;

                        case "Right":
                        animationStartX = 161;
                        break;
                    }
                    
                    context.drawImage(froggerSheet,
                        animationStartX + this.frameCounter * 35 + 3 * this.frameCounter , 25, 35, 43,
                        this.x, this.y, this.width, this.height);

                    if (this.x < -22 || this.x > canvas.width - 22) {
                        RemoveLife();
                    }
                }                
            }

            class Car_1 extends GameObject {            
                draw() {
                    this.isCar = true;
                    context.drawImage(froggerSheet, 37, 1009, 52, 46,
                    this.x, this.y, this.width, this.height);
                    if(this.x <-165){ 
                        this.x = canvas.width + this.width;
                    }
                }             
            }
            class Car_2 extends GameObject {
                draw() {
                    this.isCar = true;
                    context.drawImage(froggerSheet, 111, 1011, 46, 40,
                    this.x, this.y, this.width, this.height);
                    if(this.x > canvas.width + 130) {
                        this.x = 0 - this.width ;
                    }
                }  
            }
            class Car_3 extends GameObject {
                draw() {
                    this.isCar = true;
                    context.drawImage(froggerSheet, 303, 1014, 49, 34,
                    this.x, this.y, this.width, this.height);
                    if(this.x <-165){ 
                        this.x = canvas.width + this.width;
                    }
                }
            }
            class Car_4 extends GameObject {
                draw() {
                    this.isCar = true; 
                    context.drawImage(froggerSheet, 372, 1008, 52, 46,
                    this.x, this.y, this.width, this.height);
                    if(this.x > canvas.width + 130) {
                        this.x = 0 - this.width;
                    }
                }
            }
            class Car_5 extends GameObject {
                draw() {
                    this.isCar = true; 
                    context.drawImage(froggerSheet, 189, 1014, 85, 34,
                    this.x, this.y, this.width, this.height);
                    if(this.x <-165){ 
                        this.x = canvas.width + this.width;
                    }
                }
            }
            class BigLog extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1484, 911, 132, 48,
                    this.x, this.y, this.width, this.height);
                    if(this.collision == true) {
                        if((this.x + this.width) > (frog.x + frog.width-15)&& 
                            (this.x + this.width - 10) < (frog.x + this.width)) {
                            frog.hitching = true;
                            this.hitching = true;
                            frog.x = frog.x + this.speedX * deltaTime / 1000; 
                        }
                    }
                    if(this.collision == false && this.hitching == true) {
                            frog.speedX = 0;
                            frog.hitching = false;
                            this.hitching = false;                          
                    }
                    if(this.x > canvas.width + this.width) {
                        this.x = -190;
                    }  
                }
            }
            class SmallLog extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1568, 865, 74, 46,
                    this.x, this.y, this.width, this.height);
                    if(this.collision == true) {
                        if((this.x + this.width) > (frog.x + frog.width-15)&& 
                            (this.x + this.width - 10) < (frog.x + this.width)) {
                            frog.hitching = true;
                            this.hitching = true;
                            frog.x = frog.x + this.speedX * deltaTime / 1000; 
                        }
                    }
                    if(this.collision == false && this.hitching == true) {
                            frog.speedX = 0;
                            frog.hitching = false;
                            this.hitching = false;
                    }
                    if(this.x > (canvas.width + this.width + 50)) {
                        this.x = -172 - this.width ;
                    }
                }     
            }
            class HugeLog extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1732, 1099, 170, 44,
                    this.x, this.y, this.width, this.height);

                    if(this.collision == true) {
                        if((this.x + this.width) > (frog.x + frog.width-15)&& 
                            (this.x + this.width - 10) < (frog.x + this.width)) {
                            frog.hitching = true;
                            this.hitching = true;
                            frog.x = frog.x + this.speedX * deltaTime / 1000; 
                        }
                    }
                    if(this.collision == false && this.hitching == true) {
                            frog.speedX = 0;
                            frog.hitching = false;
                            this.hitching = false;
                    }
                    if(this.x > (canvas.width + this.width + 129)) {
                        this.x = -20 - this.width ;
                    }
                }
            }
            class PurpleThing extends Scenery {
                draw() {
                    context.drawImage(froggerSheet, 38, 429, 46, 52,
                    this.x, this.y, this.width, this.height);
                }
            }
            class PurpleThing_Blue extends Scenery {
                draw() {
                    context.drawImage(froggerSheet, 1189, 429, 46, 30,
                    this.x, this.y, this.width, this.height);
                }
            }   
            class Turtle extends GameObject {
                constructor(startX, startY, width, height, speedX, speedY){
                    super(startX, startY, width, height, speedX, speedY);
                    this.frameCounter = 0;
                    this.animationFrames = 3;
                    this.frameTimeCounter = 0;
                    this.frameRate = 5;
                }
                draw() {
                    context.drawImage(froggerSheet, 1287 + this.frameCounter * 68 + 3  * this.frameCounter, 436, 46, 41,
                    this.x, this.y, this.width, this.height);
                    if(deltaTime > 4 && deltaTime < 7) {
                        this.x = this.x + this.speedX / 144;    
                    }
                    if(deltaTime > 9) {
                        this.x = this.x + this.speedX / 60;
                    }
                    if(deltaTime < 4){
                        this.x = this.x + this.speedX / 240;
                    }
                    if(deltaTime > 7 && deltaTime < 9) {
                        this.x = this.x + this.speedX / 120;
                    }
                    if(this.x <-195){ 
                        this.x = canvas.width + this.width;
                    }
                    
                    if(this != frog) {
                        if(((this.x + this.width) > frog.x)
                            && (this.x < (frog.x + frog.width))
                            && ((this.y + this.height) > frog.y)
                            && (this.y < (frog.y + frog.height))) {
                                this.collision = true;
                                if(this.collision == true && frog.y < 320) {
                                    if((this.x + this.width) > (frog.x + frog.width-11) && 
                                        (this.x + this.width) < (frog.x + frog.width + 19)){
                                        frog.hitching = true;
                                        this.hitching = true;
                                        frog.x = frog.x + this.speedX * deltaTime / 1000; 
                                }    
                            }
                            if(this.collision == false && this.hitching == true) {
                                frog.speedX = 0;
                                this.hitching = false;
                                frog.hitching = false; 
                            }
                        }   else {
                                this.collision = false; 
                            }
                    }
                }
                update(deltaTime) {
                    this.frameTimeCounter += deltaTime;
                    this.speedX = -81;
                    if(this.frameTimeCounter > 1000 / this.frameRate) {
                        this.frameTimeCounter = 0;
                        this.frameCounter++;
                        if(this.frameCounter >= this.animationFrames) {
                            this.frameCounter = 0;
                        }             
                    }           
                }
            }
            class Turtle_2 extends GameObject {
                constructor(startX, startY, width, height, speedX, speedY){
                    super(startX, startY, width, height, speedX, speedY);
                    this.frameCounter = 0;
                    this.animationFrames = 3;
                    this.frameTimeCounter = 0;
                    this.frameRate = 5;
                }
                draw() {
                    context.drawImage(froggerSheet, 1287 + this.frameCounter * 68 + 3  * this.frameCounter, 436, 46, 41,
                    this.x, this.y, this.width, this.height);
                    if(deltaTime > 4 && deltaTime < 7) {
                        this.x = this.x + this.speedX / 144;    
                    }
                    if(deltaTime > 9) {
                        this.x = this.x + this.speedX / 60;
                    }
                    if(deltaTime < 4){
                        this.x = this.x + this.speedX / 240;
                    }
                    if(deltaTime > 7 && deltaTime < 9) {
                        this.x = this.x + this.speedX / 120;
                    }
                    if(this.x <-195){ 
                        this.x = canvas.width + 78;
                    }
                    if(this != frog) {
                        if(((this.x + this.width) > frog.x)
                            && (this.x < (frog.x + frog.width))
                            && ((this.y + this.height) > frog.y)
                            && (this.y < (frog.y + frog.height))) {
                                this.collision = true;
                                if(this.collision == true && frog.y < 320) {
                                    if((this.x + this.width) > (frog.x + frog.width-11) && 
                                        (this.x + this.width) < (frog.x + frog.width + 19)){
                                        frog.hitching = true;
                                        this.hitching = true;
                                        frog.x = frog.x + this.speedX * deltaTime / 1000; 
                                }    
                            }
                            if(this.collision == false && this.hitching == true) {
                                frog.speedX = 0;
                                this.hitching = false;
                                frog.hitching = false; 
                            }
                        }   else {
                                this.collision = false; 
                            
                            }
                    }             
                }
                update(deltaTime) {
                    
                    this.frameTimeCounter += deltaTime;
                    if(this.frameTimeCounter > 1000 / this.frameRate) {
                        this.frameTimeCounter = 0;
                        this.frameCounter++;
                        if(this.frameCounter >= this.animationFrames) {
                            this.frameCounter = 0;
                        }             
                    }           
                }
            }
            let goalCount = 0;
            class Goal extends GameObject {
                draw() {
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height);
                    context.fillStyle = '#1313ef';
                    context.fill();
                    if(this.collision == true && this.hitching == false){
                        roundScore = roundScore + canvas.width - lord_of_time.x;
                        
                        this.hitching = true;
                        frog.x = 336;
                        frog.y = 655 - 48;
                        frog.movementDirection = "Up";
                        score();
                        goalCount++;
                        
                    }
                    if(this.hitching == true) {
                        context.drawImage(froggerSheet, 1452, 525, 52, 52,
                        this.x - 7, this.y, 52, 52 );
                    }
                    if(this.collision == true && this.hitching == true){
                        frog.y = frog.y + 48;
                        
                    }
                    if(frog.reset == true){
                        this.hitching = false; 
                    }
                    if(goalCount == 5) {
                        frog.lifeCount = 0;
                    }
                }
            }
            class Green_bottom extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1285, 622, 26, 24,
                    this.x, this.y, this.width, this.height);
                    if(this.collision == true){
                        RemoveLife();
                    }
                }
            }
            class Green_left_corner extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1284, 717, 24, 24,
                    this.x, this.y, this.width, this.height);
                }
            }
            class Green_left_wall extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1285, 670, 25, 26,
                    this.x, this.y, this.width, this.height);
                }
            }
            class Green_right_corner extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1191, 716, 22, 22,
                    this.x, this.y, this.width, this.height);
                }
            }
            class Green_right_wall extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1193, 670, 22, 24,
                    this.x, this.y, this.width, this.height);
                }
            }
            class Green_right_inner_corner extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1189, 622, 26, 26,
                    this.x, this.y, this.width, this.height);
                }
            }
            class Green_left_inner_corner extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1235, 622, 28, 26,
                    this.x, this.y, this.width, this.height);
                }
            }
            class Green_top_water extends GameObject {
                draw() {
                    context.drawImage(froggerSheet, 1285, 622, 26, 22,
                    this.x, this.y, this.width, this.height);
                }
            }
            class Green_filler extends Scenery {
                draw() {
                    context.drawImage(froggerSheet, 1233, 666, 35, 45,
                    this.x, this.y, this.width, this.height);
                }
            }
            class Green_top_filler extends Scenery {
                draw() {
                    context.drawImage(froggerSheet, 134, 624, 26, 22,
                    this.x, this.y, this.width, this.height);
                }
            } 
            class Green_top_filler_2 extends Scenery {
                draw() {
                    context.drawImage(froggerSheet, 136, 673, 26, 22,
                    this.x, this.y, this.width, this.height);
                }
            }
            class Box extends Scenery {
                draw() {
                    context.beginPath();
                    context.rect(this.x, this.y, this.width, this.height)
                    context.lineWidth = 2;
                    context.strokeStyle = "red"; 
                    context.stroke();
                }
                
            }

            const objectStorage = [];
            const goals = [];
            const water = new Water(0, 50, canvas.width, 315, 0, 0);
            objectStorage.push(water);
            
            const dieWater_start_1 = new DieWaterStart(0, 340, 600, 5, -81, 0);
            const dieWater_start_2 = new DieWaterStart(120, 290, 600, 5, 90, 0);
            const dieWater_start_3 = new DieWaterStart(25, 240, 600, 5, 120, 0);
            const dieWater_start_4 = new DieWaterStart(-50, 190, 560, 5, -81, 0);
    
            objectStorage.push(dieWater_start_1);
            objectStorage.push(dieWater_start_2);
            objectStorage.push(dieWater_start_3);
            objectStorage.push(dieWater_start_4);
            
            let die_row_1 = 0;
            let die_row_2 = 0;
            let die_row_4 = 0;
            let die_row_5 = 0;
            for(let i = 0; i < 4; i++){
                objectStorage.push(new DieWaterLeft(785 + die_row_1, 340, 45, 5, -81, 0));
                die_row_1 = die_row_1 + 228;
                objectStorage.push(new DieWaterRight(-145 + die_row_2, 290, 115, 5, 90, 0));
                die_row_2 = die_row_2 - 272;
                objectStorage.push(new DieWaterLeft_2(640 + die_row_4, 190, 105, 5, -81, 0));
                die_row_4 = die_row_4 + 236;
                objectStorage.push(new DieWaterRight_3(110 + die_row_5, 145, 60, 5, 120, 0));
                die_row_5 = die_row_5 - 251;
            }
            let die_row_3 = 0;
            for(let i = 0; i < 3; i++) {
                objectStorage.push(new DieWaterRight_2(-375 + die_row_3, 240, 160, 5, 120, 0));
                die_row_3 = die_row_3 - 395;
            }
            
            const frog = new Frog(336, 655, 38, 38, 0, 0);

            const car_1 = new Car_1(670, 604, 48, 40, -45, 0);
            const car_1_2 = new Car_1(1050, 604, 48, 40, -45, 0);
            const car_1_3 = new Car_1(1400, 604, 48, 40, -45, 0);
            const car_2 = new Car_2(1, 556, 38, 40, 50, 0);
            const car_2_2 = new Car_2(-265, 556, 38, 40, 50, 0);
            const car_2_3 = new Car_2(-500, 556, 38, 40, 50, 0);
            const car_3 = new Car_3(690, 512, 49, 34, -60, 0);
            const car_3_2 = new Car_3(960, 512, 49, 34, -60, 0);
            const car_3_3 = new Car_3(1295, 512, 49, 34, -60, 0);
            const car_4 = new Car_4(250, 460, 50, 44, 60, 0);
            const car_4_2 = new Car_4(-100, 460, 50, 44, 60, 0);
            const car_4_3 = new Car_4(-400, 460, 50, 44, 60, 0);
            const car_5 = new Car_5(550, 414, 85, 34, -60, 0);
            const car_5_2 = new Car_5(926, 414, 85, 34, -60, 0);
            const car_5_3 = new Car_5(1188, 414, 85, 34, -60, 0);

            const bigLog = new BigLog(196, 121, 140, 49, 120, 0);
            const bigLog_2 = new BigLog(-55, 121, 140, 49, 120, 0);
            const bigLog_3 = new BigLog(-306, 121, 140, 49, 120, 0);
            const bigLog_4 = new BigLog(-557, 121, 140, 49, 120, 0);
            const smallLog = new SmallLog(1, 268, 90, 50, 90, 0);
            const smallLog_2 = new SmallLog(-271, 268, 90, 50, 90, 0);
            const smallLog_3 = new SmallLog(-543, 268, 90, 50, 90, 0);
            const smallLog_4 = new SmallLog(-815, 268, 90, 50, 90, 0);
            const hugeLog = new HugeLog(-186, 218, 185, 47, 120, 0);
            const hugeLog_2 = new HugeLog(-586, 218, 185, 47, 120, 0);
            const hugeLog_3 = new HugeLog(-986, 218, 185, 47, 120, 0);

            const goal_1 = new Goal(35, 60, 40, 40, 0, 0);
            const goal_2 = new Goal(173, 60, 40, 40, 0, 0);
            const goal_3 = new Goal(311, 60, 40, 40, 0, 0);
            const goal_4 = new Goal(449, 60, 40, 40, 0, 0);
            const goal_5 = new Goal(canvas.width - 85, 60, 40, 40, 0, 0);
        
            let purple_thing_counter = 0;
            for(let i = 0; i < 15; i++) {
                objectStorage.push(new PurpleThing(626 - purple_thing_counter, 648, 46, 50, 0, 0));
                objectStorage.push(new PurpleThing(626 - purple_thing_counter, 361, 46, 50, 0, 0));
                objectStorage.push(new PurpleThing_Blue(626 - purple_thing_counter, 361, 46, 30, 0, 0));
                purple_thing_counter = purple_thing_counter + 46;
            }

            let life_1 = new Life(7, canvas.height - 45, 18, 18, 0, 0);
            let life_2 = new Life(7 + 22, canvas.height - 45, 18, 18, 0, 0);
            let life_3 = new Life(7 + 44, canvas.height - 45, 18, 18, 0, 0);
           
            function RemoveLife() {
                frog.lifeCount --;
                frog.x = 336;
                frog.y = 655;
                frog.movementDirection = "Up";

                if(frog.lifeCount == 2){
                    objectStorage.pop();
                    objectStorage.pop();
                    lord_of_time.x = time_block.x - time_block.width;
                    frog.jumpCounter = 0;              
                }
                if(frog.lifeCount == 1){
                    objectStorage.pop();
                    objectStorage.pop();
                    lord_of_time.x = time_block.x - time_block.width;
                    frog.jumpCounter = 0;
                }
                if(frog.lifeCount == 0){
                    objectStorage.pop();
                    objectStorage.pop();
                    lord_of_time.x = time_block.x - time_block.width;
                    frog.jumpCounter = 0; 
                }
                objectStorage.push(frog);
            }
            goals.push(goal_1);
            goals.push(goal_2);
            goals.push(goal_3);
            goals.push(goal_4);
            goals.push(goal_5);

            let counter_bottom_greenery = 0;
            for(let i = 0; i < 6; i++) {
                if(i > 0 ){
                    objectStorage.push(new Green_bottom(0 + counter_bottom_greenery, 91, 26, 24, 0, 0));
                    objectStorage.push(new Green_bottom(0 + counter_bottom_greenery + 26, 91, 26, 24, 0, 0));
                    counter_bottom_greenery = counter_bottom_greenery + 138;
                } else {
                objectStorage.push(new Green_bottom(0 + counter_bottom_greenery, 91, 26, 24, 0, 0));
                counter_bottom_greenery = counter_bottom_greenery + 96;
                }
            }
            
            let seperator = 0;
            let left_wall_top = 25;
            let right_wall_top = 22;
            for(let i = 0; i < 5; i++) {
                objectStorage.push(new Green_left_corner(2 + seperator, 91, 24, 24, 0, 0));
                objectStorage.push(new Green_left_wall(2 + seperator, 64, 25, 28, 0, 0));
                objectStorage.push(new Green_left_wall(2 + seperator, 64 - left_wall_top, 25, 28, 0, 0));

                objectStorage.push(new Green_right_corner(83 + seperator, 91, 22, 22, 0, 0));
                objectStorage.push(new Green_right_wall(85 + seperator, 69, 22, 24, 0, 0));
                objectStorage.push(new Green_right_wall(85 + seperator, 69 - right_wall_top, 22, 24, 0, 0));
                objectStorage.push(new Green_right_inner_corner(78 + seperator, 40, 22, 22, 0, 0));
                objectStorage.push(new Green_left_inner_corner(3 + seperator, 40, 25, 22, 0, 0));
                objectStorage.push(new Green_top_water(28 + seperator, 35, 25, 22, 0, 0));
                objectStorage.push(new Green_top_water(53 + seperator, 35, 25, 22, 0, 0));

                objectStorage.push(new Green_filler(-32 + seperator, 45, 36, 46, 0, 0));

                seperator = seperator + 138;
            }
            let top_filler_counter = 0;
            for(let i = 0; i < 26; i++) {
                objectStorage.push(new Green_top_filler(0 + top_filler_counter, 30, 26, 22, 0, 0));
                objectStorage.push(new Green_top_filler_2(26 + top_filler_counter, 30, 26, 22, 0, 0));
                top_filler_counter = top_filler_counter + 52;
            }
            objectStorage.push(new Green_filler(canvas.width - 15, 45, 36, 46, 0, 0));
            
            let turtleTrain = 0;
            for(let i = 0; i < 3; i++) {
                objectStorage.push(new Turtle(620 + turtleTrain, 316, 46, 45, -81, 0));
                objectStorage.push(new Turtle(851 + turtleTrain, 316, 46, 45, -81, 0));
                objectStorage.push(new Turtle(1082 + turtleTrain, 316, 46, 45, -81, 0));
                objectStorage.push(new Turtle(1313 + turtleTrain, 316, 46, 45, -81, 0));
                turtleTrain = turtleTrain + 44;

                if(i < 2) {
                    objectStorage.push(new Turtle_2(620 - turtleTrain, 172, 46, 43, -81, 0));
                    objectStorage.push(new Turtle_2(855 - turtleTrain, 172, 46, 43, -81, 0));
                    objectStorage.push(new Turtle_2(1090 - turtleTrain, 172, 46, 43, -81, 0));
                    objectStorage.push(new Turtle_2(1325 - turtleTrain, 172, 46, 43, -81, 0));  
                }
            }
           
            let t_1 = new Time(canvas.width - 200, canvas.height - 35, 26, 5, 0, 0);
            let t_2 = new Time(t_1.x + t_1.width / 2 - 2.5, canvas.height - 30, 5, 20, 0, 0);
            let i_1 = new Time(t_1.x + t_1.width + 5, t_1.y, 5, 5, 0, 0);
            let i_2 = new Time(t_1.x + t_1.width + 5, t_1.y + 8, 5, 17, 0, 0);
            let m_1 = new Time(i_1.x + i_1.width + 5, i_1.y, 24, 5, 0, 0);
            let m_2 = new Time(m_1.x, m_1.y, 5, 25, 0, 0);
            let m_3 = new Time(m_1.x + m_2.width + 5, i_1.y, 5, 25, 0, 0);
            let m_4 = new Time(m_3.x + m_3.width + 5, i_1.y, 5, 25, 0, 0);
            let e_1 = new Time(m_4.x + 10, m_4.y, 5, 25, 0, 0);
            let e_2 = new Time(m_4.x + 10, m_4.y, 18, 5, 0, 0);
            let e_3 = new Time(m_4.x + 10, m_4.y + 10, 15, 5, 0, 0);
            let e_4 = new Time(m_4.x + 10, m_4.y + 20, 18, 5, 0, 0);

            let time_block = new TimeBlock(97, t_1.y, 375, 25, 0, 0);
            let lord_of_time = new Lord_of_time(time_block.x - time_block.width, time_block.y - 1, time_block.width+1, 27, 8, 0);
            
            objectStorage.push(t_1);
            objectStorage.push(t_2);
            objectStorage.push(i_1);
            objectStorage.push(i_2);
            objectStorage.push(m_1);
            objectStorage.push(m_2);
            objectStorage.push(m_3);
            objectStorage.push(m_4);
            objectStorage.push(e_1);
            objectStorage.push(e_2);
            objectStorage.push(e_3);
            objectStorage.push(e_4);
            objectStorage.push(time_block);
            
            objectStorage.push(car_1);
            objectStorage.push(car_1_2);
            objectStorage.push(car_1_3);
            objectStorage.push(car_2);
            objectStorage.push(car_2_2);
            objectStorage.push(car_2_3);
            objectStorage.push(car_3);
            objectStorage.push(car_3_2);
            objectStorage.push(car_3_3);
            objectStorage.push(car_4);
            objectStorage.push(car_4_2);
            objectStorage.push(car_4_3);
            objectStorage.push(car_5);
            objectStorage.push(car_5_2);
            objectStorage.push(car_5_3);

            objectStorage.push(bigLog);
            objectStorage.push(bigLog_2);
            objectStorage.push(bigLog_3);
            objectStorage.push(bigLog_4);
            objectStorage.push(smallLog);
            objectStorage.push(smallLog_2);
            objectStorage.push(smallLog_3);
            objectStorage.push(smallLog_4);
            objectStorage.push(hugeLog);
            objectStorage.push(hugeLog_2);
            objectStorage.push(hugeLog_3);

            objectStorage.push(lord_of_time);
            objectStorage.push(life_1);
            objectStorage.push(life_2);
            objectStorage.push(life_3);
            
            objectStorage.push(frog);
            
            let roundScore = 0;
            let highScore = 0;
            highScore = localStorage.getItem("highScore");
            
            function score() {
                if (roundScore > highScore) {
                    highScore = roundScore;
                }
                context.clearRect(0, 0, canvas.width, 35);

                roundScore = Math.round(roundScore);
                highScore = Math.round(highScore);
                localStorage.setItem("highScore", highScore);
                context.font = "24px ArcadeClassic"  ;
                context.fillStyle = "red";
                context.fillText("Score      " + roundScore, 5, 20);
                context.fillText("Highscore      " + highScore, 300, 20);
            }
            score();
            gameOverStorage = [];
            
            function GameOver() {
                context.clearRect(0, 0, canvas.width, 35);
                let yesBox = new Box(200, 400, 100, 50)
                let noBox = new Box(370, 400, 100, 50)

                context.font = "30px ArcadeClassic";
                context.fillStyle = "red";
                context.fillText("Your   round   score   was     "+ roundScore, yesBox.x - 50, yesBox.y - 100);
                context.fillText("Your   high   score   is     "+ highScore, yesBox.x - 50, yesBox.y - 150);
                context.fillText("Do   you   wish   to   play   again?", yesBox.x - 50, yesBox.y - 50);
                context.fillText("Yes", yesBox.x + 22, yesBox.y + 35);
                context.fillText("No", noBox.x + 30, noBox.y + 35);
                
                if(goalCount == 5){
                    context.fillText("Congratulations     you     have     won", yesBox.x - 90, yesBox.y - 200);

                }
                elementLeft = canvas.offsetLeft + canvas.clientLeft,
                elementTop = canvas.offsetTop + canvas.clientTop;

                canvas.addEventListener('click', function(event) {
                let x = event.pageX - elementLeft;
                let y = event.pageY - elementTop;

                gameOverStorage.forEach(function(element) {
                    if (y > element.y && y < element.y + element.height 
                        && x > element.x && x < element.x + element.width) {
                            if(x > canvas.width / 2) {
                                window.location = "https://saneprkl.github.io/Gradedexercise1/";
                            } else {
                                window.location = "https://saneprkl.github.io/Gradedexercise1/GradedExercise_2/frogger.html";
                            }
                        }
                    });
                }, false);

                gameOverStorage.push(yesBox);
                gameOverStorage.push(noBox);
                yesBox.draw();
                noBox.draw();
        }
            lastTimeStamp = 0;
            let deltaTime = 0
            
            function refreshScreen(timeStamp) {
                deltaTime = timeStamp - lastTimeStamp;
                lastTimeStamp = timeStamp;
                
                context.clearRect(0, 30, canvas.width, canvas.height);
                
                if(frog.lifeCount > 0){
                for(let i = 0; i < objectStorage.length; i++) {
                    objectStorage[i].update(deltaTime);
                    objectStorage[i].draw();
                }
                for(let i = 0; i < goals.length; i++) {
                    goals[i].update(deltaTime);
                    goals[i].draw();     
                }
            }
            else{ 
                GameOver();
            }
            window.requestAnimationFrame(refreshScreen);     
            }
            
            const froggerSheet = new Image();
            froggerSheet.onload = () => {
                window.requestAnimationFrame(refreshScreen);
            }
            froggerSheet.src = 'froggerSheet.png';
            
            window.addEventListener('keydown', function(event){
                switch(event.keyCode) {
                    
                    case 37:
                        frog.moveLeft();
                        break;
                    case 38:
                        frog.moveUp();
                        break;
                    case 39:
                        frog.moveRight();
                        break;
                    case 40:
                        frog.moveDown();
                        break;
                }
            });
            
        </script>
    </body>
</html>